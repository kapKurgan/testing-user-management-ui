{"uid":"f3dc73daccf81117","name":"Логин с пустыми полями","fullName":"tests.test_page_login.TestsLogin#test_login_negative","historyId":"7b372cb86441c86893494f4c318ea7e0","time":{"start":1771412375699,"stop":1771412380857,"duration":5158},"description":"Пустые логин и пароль","descriptionHtml":"<p>Пустые логин и пароль</p>\n","status":"skipped","statusMessage":"XFAIL\n\nAssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"","statusTrace":"self = <test_page_login.TestsLogin object at 0x7f022a250d60>\nopen_home_page = <pages.site_pages.SitePages object at 0x7f022a250af0>\ninput_value = ['', '', 'Логин с пустыми полями', 'Пустые логин и пароль']\n\n    @pytest.mark.order(2)\n    @pytest.mark.regression\n    @pytest.mark.negative\n    @pytest.mark.login\n    @pytest.mark.all\n    @allure.story(\"Негативный сценарий\")\n    @allure.tag(\"negative\")\n    @allure.severity(allure.severity_level.MINOR)\n    @pytest.mark.xfail(strict=True)\n    @pytest.mark.parametrize(\"input_value\", login_date_negative)\n    def test_login_negative(self, open_home_page, input_value: list) -> None:\n        run_login_test(open_home_page, input_value)\n    \n        expect_visible(open_home_page.error_text, open_home_page.error_text)\n        actual_msg = open_home_page.error_text.locator('h3').text_content()\n        print(f\"  ⚠️ Ошибка: {actual_msg}\")\n        with allure.step(f\"Появилось сообщение об ошибке: {actual_msg}\"):\n            attach_screenshot(open_home_page.page, \"Скриншот с ошибкой\")\n        with allure.step(f\"Проверяем переход на '{LOGO_PAGE_PRODUCTS}'\"):\n>           open_home_page.page_products()\n\ntests/test_page_login.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/site_pages.py:56: in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/'>\nexpected = 'https://www.saucedemo.com/inventory.html'\n\n    def expect_url(page: Page, expected: str) -> None:\n        \"\"\"\n            Нативный expect: URL страницы.\n        \"\"\"\n        with allure.step(f'Проверить URL: «{expected}»'):\n>           expect(page).to_have_url(expected)\nE           AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nE           Actual value: https://www.saucedemo.com/ \nE           Call log:\nE             - Expect \"to_have_url\" with timeout 5000ms\nE               9 × unexpected value \"https://www.saucedemo.com/\"\n\nutils/checks.py:35: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1771412373459,"stop":1771412373459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1771412373459,"stop":1771412373460,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1771412373459,"stop":1771412373459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1771412373459,"stop":1771412373459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1771412373459,"stop":1771412373459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1771412373460,"stop":1771412373939,"duration":479},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1771412373940,"stop":1771412374318,"duration":378},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1771412373940,"stop":1771412373940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"connect_options","time":{"start":1771412373940,"stop":1771412373940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1771412373940,"stop":1771412373940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1771412374318,"stop":1771412374318,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder","time":{"start":1771412374318,"stop":1771412374321,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1771412374321,"stop":1771412374321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"output_path","time":{"start":1771412375428,"stop":1771412375428,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder","time":{"start":1771412375428,"stop":1771412375428,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1771412375429,"stop":1771412375436,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"new_context","time":{"start":1771412375429,"stop":1771412375429,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1771412375436,"stop":1771412375480,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Подготовка тестового окружение (фикстура)","time":{"start":1771412375480,"stop":1771412375698,"duration":218},"status":"passed","steps":[{"name":"Открыть страницу: https://www.saucedemo.com/","time":{"start":1771412375480,"stop":1771412375652,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить URL: «https://www.saucedemo.com/»","time":{"start":1771412375652,"stop":1771412375686,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить видимость элемента «Swag Labs»","time":{"start":1771412375686,"stop":1771412375693,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить текст элемента: «Swag Labs»","time":{"start":1771412375693,"stop":1771412375698,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true}],"testStage":{"description":"Пустые логин и пароль","status":"skipped","statusMessage":"XFAIL\n\nAssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"","statusTrace":"self = <test_page_login.TestsLogin object at 0x7f022a250d60>\nopen_home_page = <pages.site_pages.SitePages object at 0x7f022a250af0>\ninput_value = ['', '', 'Логин с пустыми полями', 'Пустые логин и пароль']\n\n    @pytest.mark.order(2)\n    @pytest.mark.regression\n    @pytest.mark.negative\n    @pytest.mark.login\n    @pytest.mark.all\n    @allure.story(\"Негативный сценарий\")\n    @allure.tag(\"negative\")\n    @allure.severity(allure.severity_level.MINOR)\n    @pytest.mark.xfail(strict=True)\n    @pytest.mark.parametrize(\"input_value\", login_date_negative)\n    def test_login_negative(self, open_home_page, input_value: list) -> None:\n        run_login_test(open_home_page, input_value)\n    \n        expect_visible(open_home_page.error_text, open_home_page.error_text)\n        actual_msg = open_home_page.error_text.locator('h3').text_content()\n        print(f\"  ⚠️ Ошибка: {actual_msg}\")\n        with allure.step(f\"Появилось сообщение об ошибке: {actual_msg}\"):\n            attach_screenshot(open_home_page.page, \"Скриншот с ошибкой\")\n        with allure.step(f\"Проверяем переход на '{LOGO_PAGE_PRODUCTS}'\"):\n>           open_home_page.page_products()\n\ntests/test_page_login.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/site_pages.py:56: in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/'>\nexpected = 'https://www.saucedemo.com/inventory.html'\n\n    def expect_url(page: Page, expected: str) -> None:\n        \"\"\"\n            Нативный expect: URL страницы.\n        \"\"\"\n        with allure.step(f'Проверить URL: «{expected}»'):\n>           expect(page).to_have_url(expected)\nE           AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nE           Actual value: https://www.saucedemo.com/ \nE           Call log:\nE             - Expect \"to_have_url\" with timeout 5000ms\nE               9 × unexpected value \"https://www.saucedemo.com/\"\n\nutils/checks.py:35: AssertionError","steps":[{"name":"Ввести учётные данные:  / ","time":{"start":1771412375700,"stop":1771412375743,"duration":43},"status":"passed","steps":[{"name":"Проверить видимость элемента «Username»","time":{"start":1771412375700,"stop":1771412375705,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить атрибут placeholder = «Username»","time":{"start":1771412375705,"stop":1771412375709,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить видимость элемента «Password»","time":{"start":1771412375719,"stop":1771412375723,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить атрибут placeholder = «Password»","time":{"start":1771412375723,"stop":1771412375727,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить видимость элемента «Login»","time":{"start":1771412375736,"stop":1771412375739,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить атрибут value = «Login»","time":{"start":1771412375740,"stop":1771412375743,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true},{"name":"Нажать кнопку: Login","time":{"start":1771412375743,"stop":1771412375790,"duration":47},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверить видимость элемента «<Locator frame=<Frame name= url='https://www.saucedemo.com/'> selector='#login_button_container > div > form > div.error-message-container.error'>»","time":{"start":1771412375790,"stop":1771412375794,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Появилось сообщение об ошибке: Epic sadface: Username is required","time":{"start":1771412375799,"stop":1771412375852,"duration":53},"status":"passed","steps":[],"attachments":[{"uid":"c21ecc9cc667bd52","name":"Скриншот с ошибкой","source":"c21ecc9cc667bd52.png","type":"image/png","size":29339}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Проверяем переход на 'Products'","time":{"start":1771412375852,"stop":1771412380857,"duration":5005},"status":"failed","statusMessage":"AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n","statusTrace":"  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/tests/test_page_login.py\", line 83, in test_login_negative\n    open_home_page.page_products()\n  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/pages/site_pages.py\", line 56, in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Проверить URL: «https://www.saucedemo.com/inventory.html»","time":{"start":1771412375852,"stop":1771412380857,"duration":5005},"status":"failed","statusMessage":"AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n","statusTrace":"  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"6f577ae432821f8d","name":"stdout","source":"6f577ae432821f8d.txt","type":"text/plain","size":475}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"new_context::0","time":{"start":1771412380881,"stop":1771412380897,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder::0","time":{"start":1771412380897,"stop":1771412380897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder::0","time":{"start":1771412380899,"stop":1771412380900,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1771412380900,"stop":1771412380942,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1771412380943,"stop":1771412380952,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Авторизация на https://www.saucedemo.com"},{"name":"epic","value":"Техническое задание: AQA Python"},{"name":"severity","value":"minor"},{"name":"story","value":"Негативный сценарий"},{"name":"tag","value":"negative"},{"name":"tag","value":"all"},{"name":"tag","value":"login"},{"name":"tag","value":"negative"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_page_login"},{"name":"subSuite","value":"TestsLogin"},{"name":"host","value":"runnervmjduv7"},{"name":"thread","value":"3124-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_page_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"},{"name":"input_value","value":"['', '', 'Логин с пустыми полями', 'Пустые логин и пароль']"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"minor","retries":[],"categories":[],"tags":["all","negative","regression","login"]},"source":"f3dc73daccf81117.json","parameterValues":["'chromium'","['', '', 'Логин с пустыми полями', 'Пустые логин и пароль']"]}