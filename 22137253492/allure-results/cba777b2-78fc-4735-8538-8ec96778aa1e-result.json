{"name": "Логин с неверным паролем", "status": "skipped", "statusDetails": {"message": "XFAIL\n\nAssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"", "trace": "self = <test_page_login.TestsLogin object at 0x7fdd6404a980>\nopen_home_page = <pages.site_pages.SitePages object at 0x7fdd640f16c0>\ninput_value = ['standard_user', 'wrong_pass', 'Логин с неверным паролем', 'Неправильный пароль']\n\n    @pytest.mark.order(2)\n    @pytest.mark.regression\n    @pytest.mark.negative\n    @pytest.mark.login\n    @pytest.mark.all\n    @allure.story(\"Негативный сценарий\")\n    @allure.tag(\"negative\")\n    @allure.severity(allure.severity_level.MINOR)\n    @pytest.mark.xfail(strict=True)\n    @pytest.mark.parametrize(\"input_value\", login_date_negative)\n    def test_login_negative(self, open_home_page, input_value: list) -> None:\n        run_login_test(open_home_page, input_value)\n    \n        expect_visible(open_home_page.error_text, open_home_page.error_text)\n        actual_msg = open_home_page.error_text.locator('h3').text_content()\n        print(f\"  ⚠️ Ошибка: {actual_msg}\")\n        with allure.step(f\"Появилось сообщение об ошибке: {actual_msg}\"):\n            attach_screenshot(open_home_page.page, \"Скриншот с ошибкой\")\n        with allure.step(f\"Проверяем переход на '{LOGO_PAGE_PRODUCTS}'\"):\n>           open_home_page.page_products()\n\ntests/test_page_login.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/site_pages.py:56: in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/'>\nexpected = 'https://www.saucedemo.com/inventory.html'\n\n    def expect_url(page: Page, expected: str) -> None:\n        \"\"\"\n            Нативный expect: URL страницы.\n        \"\"\"\n        with allure.step(f'Проверить URL: «{expected}»'):\n>           expect(page).to_have_url(expected)\nE           AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nE           Actual value: https://www.saucedemo.com/ \nE           Call log:\nE             - Expect \"to_have_url\" with timeout 5000ms\nE               9 × unexpected value \"https://www.saucedemo.com/\"\n\nutils/checks.py:35: AssertionError"}, "description": "Неправильный пароль", "steps": [{"name": "Ввести учётные данные: standard_user / wrong_pass", "status": "passed", "steps": [{"name": "Проверить видимость элемента «Username»", "status": "passed", "start": 1771412901965, "stop": 1771412901974}, {"name": "Проверить атрибут placeholder = «Username»", "status": "passed", "start": 1771412901974, "stop": 1771412901981}, {"name": "Проверить видимость элемента «Password»", "status": "passed", "start": 1771412902016, "stop": 1771412902022}, {"name": "Проверить атрибут placeholder = «Password»", "status": "passed", "start": 1771412902023, "stop": 1771412902030}, {"name": "Проверить видимость элемента «Login»", "status": "passed", "start": 1771412902065, "stop": 1771412902080}, {"name": "Проверить атрибут value = «Login»", "status": "passed", "start": 1771412902081, "stop": 1771412902095}], "start": 1771412901965, "stop": 1771412902095}, {"name": "Нажать кнопку: Login", "status": "passed", "start": 1771412902095, "stop": 1771412902231}, {"name": "Проверить видимость элемента «<Locator frame=<Frame name= url='https://www.saucedemo.com/'> selector='#login_button_container > div > form > div.error-message-container.error'>»", "status": "passed", "start": 1771412902231, "stop": 1771412902254}, {"name": "Появилось сообщение об ошибке: Epic sadface: Username and password do not match any user in this service", "status": "passed", "attachments": [{"name": "Скриншот с ошибкой", "source": "7068ceda-f92d-4360-aaaf-e2f46dca50fa-attachment.png", "type": "image/png"}], "start": 1771412902274, "stop": 1771412902408}, {"name": "Проверяем переход на 'Products'", "status": "failed", "statusDetails": {"message": "AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n", "trace": "  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/tests/test_page_login.py\", line 83, in test_login_negative\n    open_home_page.page_products()\n  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/pages/site_pages.py\", line 56, in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "steps": [{"name": "Проверить URL: «https://www.saucedemo.com/inventory.html»", "status": "failed", "statusDetails": {"message": "AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n", "trace": "  File \"/home/runner/work/testing-user-management-ui/testing-user-management-ui/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "start": 1771412902408, "stop": 1771412907422}], "start": 1771412902408, "stop": 1771412907423}], "attachments": [{"name": "stdout", "source": "479e8b21-a898-476d-a6cc-6c3c70b63c5f-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser_name", "value": "'chromium'"}, {"name": "input_value", "value": "['standard_user', 'wrong_pass', 'Логин с неверным паролем', 'Неправильный пароль']"}], "start": 1771412901964, "stop": 1771412907423, "uuid": "2520587d-5ae5-4024-9b16-87d00eb72451", "historyId": "44a6f03851152642738fb838b0043df3", "testCaseId": "598f37e7459cf5e84fb561e8f38ba9e8", "fullName": "tests.test_page_login.TestsLogin#test_login_negative", "labels": [{"name": "feature", "value": "Авторизация на https://www.saucedemo.com"}, {"name": "severity", "value": "minor"}, {"name": "epic", "value": "Техническое задание: AQA Python"}, {"name": "story", "value": "Негативный сценарий"}, {"name": "tag", "value": "negative"}, {"name": "tag", "value": "all"}, {"name": "tag", "value": "login"}, {"name": "tag", "value": "negative"}, {"name": "tag", "value": "regression"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_page_login"}, {"name": "subSuite", "value": "TestsLogin"}, {"name": "host", "value": "runnervmjduv7"}, {"name": "thread", "value": "3114-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_page_login"}], "titlePath": ["tests", "test_page_login.py", "TestsLogin"]}