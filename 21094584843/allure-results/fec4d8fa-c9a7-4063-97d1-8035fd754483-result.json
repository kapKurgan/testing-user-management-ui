{"name": "Логин с неверным паролем", "status": "skipped", "statusDetails": {"message": "XFAIL\n\nAssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"", "trace": "self = <test_page_login.TestsLogin object at 0x7f9928771720>\nopen_home_page = <pages.site_pages.SitePages object at 0x7f99287d0760>\ninput_value = ['standard_user', 'wrong_pass', 'Логин с неверным паролем', 'Неправильный пароль']\n\n    @pytest.mark.order(2)\n    @pytest.mark.regression\n    @pytest.mark.negative\n    @pytest.mark.login\n    @pytest.mark.all\n    @allure.story(\"Негативный сценарий\")\n    @allure.tag(\"negative\")\n    @allure.severity(allure.severity_level.MINOR)\n    @pytest.mark.xfail(strict=True)\n    @pytest.mark.parametrize(\"input_value\", login_date_negative)\n    def test_login_negative(self, open_home_page, input_value: list) -> None:\n        run_login_test(open_home_page, input_value)\n    \n        expect_visible(open_home_page.error_text, open_home_page.error_text)\n        actual_msg = open_home_page.error_text.locator('h3').text_content()\n        print(f\"  ⚠️ Ошибка: {actual_msg}\")\n        with allure.step(f\"Появилось сообщение об ошибке: {actual_msg}\"):\n            attach_screenshot(open_home_page.page, \"Скриншот с ошибкой\")\n        with allure.step(f\"Проверяем переход на '{LOGO_PAGE_PRODUCTS}'\"):\n>           open_home_page.page_products()\n\ntests/test_page_login.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/site_pages.py:56: in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/'>\nexpected = 'https://www.saucedemo.com/inventory.html'\n\n    def expect_url(page: Page, expected: str) -> None:\n        \"\"\"\n            Нативный expect: URL страницы.\n        \"\"\"\n        with allure.step(f'Проверить URL: «{expected}»'):\n>           expect(page).to_have_url(expected)\nE           AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nE           Actual value: https://www.saucedemo.com/ \nE           Call log:\nE             - Expect \"to_have_url\" with timeout 5000ms\nE               9 × unexpected value \"https://www.saucedemo.com/\"\n\nutils/checks.py:35: AssertionError"}, "description": "Неправильный пароль", "steps": [{"name": "Ввести учётные данные: standard_user / wrong_pass", "status": "passed", "steps": [{"name": "Проверить видимость элемента «Username»", "status": "passed", "start": 1768654444350, "stop": 1768654444352}, {"name": "Проверить атрибут placeholder = «Username»", "status": "passed", "start": 1768654444352, "stop": 1768654444355}, {"name": "Проверить видимость элемента «Password»", "status": "passed", "start": 1768654444363, "stop": 1768654444366}, {"name": "Проверить атрибут placeholder = «Password»", "status": "passed", "start": 1768654444366, "stop": 1768654444369}, {"name": "Проверить видимость элемента «Login»", "status": "passed", "start": 1768654444376, "stop": 1768654444378}, {"name": "Проверить атрибут value = «Login»", "status": "passed", "start": 1768654444378, "stop": 1768654444380}], "start": 1768654444349, "stop": 1768654444380}, {"name": "Нажать кнопку: Login", "status": "passed", "start": 1768654444380, "stop": 1768654444437}, {"name": "Проверить видимость элемента «<Locator frame=<Frame name= url='https://www.saucedemo.com/'> selector='#login_button_container > div > form > div.error-message-container.error'>»", "status": "passed", "start": 1768654444437, "stop": 1768654444441}, {"name": "Появилось сообщение об ошибке: Epic sadface: Username and password do not match any user in this service", "status": "passed", "attachments": [{"name": "Скриншот с ошибкой", "source": "2e16ac13-c408-432d-82a9-848bf0fa612c-attachment.png", "type": "image/png"}], "start": 1768654444444, "stop": 1768654444495}, {"name": "Проверяем переход на 'Products'", "status": "failed", "statusDetails": {"message": "AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n", "trace": "  File \"/home/runner/work/effective-mobile/effective-mobile/tests/test_page_login.py\", line 83, in test_login_negative\n    open_home_page.page_products()\n  File \"/home/runner/work/effective-mobile/effective-mobile/pages/site_pages.py\", line 56, in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n  File \"/home/runner/work/effective-mobile/effective-mobile/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "steps": [{"name": "Проверить URL: «https://www.saucedemo.com/inventory.html»", "status": "failed", "statusDetails": {"message": "AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n", "trace": "  File \"/home/runner/work/effective-mobile/effective-mobile/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "start": 1768654444496, "stop": 1768654449498}], "start": 1768654444496, "stop": 1768654449498}], "attachments": [{"name": "stdout", "source": "de771c61-f15a-4a69-a2ec-8a1ac65535f0-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser_name", "value": "'chromium'"}, {"name": "input_value", "value": "['standard_user', 'wrong_pass', 'Логин с неверным паролем', 'Неправильный пароль']"}], "start": 1768654444349, "stop": 1768654449499, "uuid": "ccdbf8c4-3c2c-4f28-b68c-a0e12e0241f9", "historyId": "44a6f03851152642738fb838b0043df3", "testCaseId": "598f37e7459cf5e84fb561e8f38ba9e8", "fullName": "tests.test_page_login.TestsLogin#test_login_negative", "labels": [{"name": "feature", "value": "Авторизация на https://www.saucedemo.com"}, {"name": "tag", "value": "negative"}, {"name": "epic", "value": "Техническое задание: AQA Python"}, {"name": "story", "value": "Негативный сценарий"}, {"name": "severity", "value": "minor"}, {"name": "tag", "value": "all"}, {"name": "tag", "value": "login"}, {"name": "tag", "value": "negative"}, {"name": "tag", "value": "regression"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_page_login"}, {"name": "subSuite", "value": "TestsLogin"}, {"name": "host", "value": "runnervmmtnos"}, {"name": "thread", "value": "2979-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_page_login"}], "titlePath": ["tests", "test_page_login.py", "TestsLogin"]}