{"name": "Логин с пустыми полями", "status": "skipped", "statusDetails": {"message": "XFAIL\n\nAssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"", "trace": "self = <test_page_login.TestsLogin object at 0x7f5ab410cd00>\nopen_home_page = <pages.site_pages.SitePages object at 0x7f5ab4133130>\ninput_value = ['', '', 'Логин с пустыми полями', 'Пустые логин и пароль']\n\n    @pytest.mark.order(2)\n    @pytest.mark.regression\n    @pytest.mark.negative\n    @pytest.mark.login\n    @pytest.mark.all\n    @allure.story(\"Негативный сценарий\")\n    @allure.tag(\"negative\")\n    @allure.severity(allure.severity_level.MINOR)\n    @pytest.mark.xfail(strict=True)\n    @pytest.mark.parametrize(\"input_value\", login_date_negative)\n    def test_login_negative(self, open_home_page, input_value: list) -> None:\n        run_login_test(open_home_page, input_value)\n    \n        expect_visible(open_home_page.error_text, open_home_page.error_text)\n        actual_msg = open_home_page.error_text.locator('h3').text_content()\n        print(f\"  ⚠️ Ошибка: {actual_msg}\")\n        with allure.step(f\"Появилось сообщение об ошибке: {actual_msg}\"):\n            attach_screenshot(open_home_page.page, \"Скриншот с ошибкой\")\n        with allure.step(f\"Проверяем переход на '{LOGO_PAGE_PRODUCTS}'\"):\n>           open_home_page.page_products()\n\ntests/test_page_login.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/site_pages.py:56: in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/'>\nexpected = 'https://www.saucedemo.com/inventory.html'\n\n    def expect_url(page: Page, expected: str) -> None:\n        \"\"\"\n            Нативный expect: URL страницы.\n        \"\"\"\n        with allure.step(f'Проверить URL: «{expected}»'):\n>           expect(page).to_have_url(expected)\nE           AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nE           Actual value: https://www.saucedemo.com/ \nE           Call log:\nE             - Expect \"to_have_url\" with timeout 5000ms\nE               9 × unexpected value \"https://www.saucedemo.com/\"\n\nutils/checks.py:35: AssertionError"}, "description": "Пустые логин и пароль", "steps": [{"name": "Ввести учётные данные:  / ", "status": "passed", "steps": [{"name": "Проверить видимость элемента «Username»", "status": "passed", "start": 1769522651469, "stop": 1769522651475}, {"name": "Проверить атрибут placeholder = «Username»", "status": "passed", "start": 1769522651475, "stop": 1769522651479}, {"name": "Проверить видимость элемента «Password»", "status": "passed", "start": 1769522651491, "stop": 1769522651495}, {"name": "Проверить атрибут placeholder = «Password»", "status": "passed", "start": 1769522651495, "stop": 1769522651499}, {"name": "Проверить видимость элемента «Login»", "status": "passed", "start": 1769522651506, "stop": 1769522651510}, {"name": "Проверить атрибут value = «Login»", "status": "passed", "start": 1769522651510, "stop": 1769522651514}], "start": 1769522651469, "stop": 1769522651514}, {"name": "Нажать кнопку: Login", "status": "passed", "start": 1769522651514, "stop": 1769522651562}, {"name": "Проверить видимость элемента «<Locator frame=<Frame name= url='https://www.saucedemo.com/'> selector='#login_button_container > div > form > div.error-message-container.error'>»", "status": "passed", "start": 1769522651563, "stop": 1769522651567}, {"name": "Появилось сообщение об ошибке: Epic sadface: Username is required", "status": "passed", "attachments": [{"name": "Скриншот с ошибкой", "source": "5d3dff14-0fcf-4407-bd61-aff281bcc4b1-attachment.png", "type": "image/png"}], "start": 1769522651575, "stop": 1769522651622}, {"name": "Проверяем переход на 'Products'", "status": "failed", "statusDetails": {"message": "AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n", "trace": "  File \"/home/runner/work/effective-mobile/effective-mobile/tests/test_page_login.py\", line 83, in test_login_negative\n    open_home_page.page_products()\n  File \"/home/runner/work/effective-mobile/effective-mobile/pages/site_pages.py\", line 56, in page_products\n    expect_url(self.page, BASE_URL + PATH_PRODUCTS)\n  File \"/home/runner/work/effective-mobile/effective-mobile/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "steps": [{"name": "Проверить URL: «https://www.saucedemo.com/inventory.html»", "status": "failed", "statusDetails": {"message": "AssertionError: Page URL expected to be 'https://www.saucedemo.com/inventory.html'\nActual value: https://www.saucedemo.com/ \nCall log:\n  - Expect \"to_have_url\" with timeout 5000ms\n    9 × unexpected value \"https://www.saucedemo.com/\"\n\n", "trace": "  File \"/home/runner/work/effective-mobile/effective-mobile/utils/checks.py\", line 35, in expect_url\n    expect(page).to_have_url(expected)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 19191, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 147, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "start": 1769522651622, "stop": 1769522656627}], "start": 1769522651622, "stop": 1769522656627}], "attachments": [{"name": "stdout", "source": "7b43abd9-53f7-4e4b-8165-9302a22a64d9-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser_name", "value": "'chromium'"}, {"name": "input_value", "value": "['', '', 'Логин с пустыми полями', 'Пустые логин и пароль']"}], "start": 1769522651469, "stop": 1769522656628, "uuid": "e994e8f7-caa2-459e-ae3e-0b5d254dd367", "historyId": "7b372cb86441c86893494f4c318ea7e0", "testCaseId": "598f37e7459cf5e84fb561e8f38ba9e8", "fullName": "tests.test_page_login.TestsLogin#test_login_negative", "labels": [{"name": "story", "value": "Негативный сценарий"}, {"name": "epic", "value": "Техническое задание: AQA Python"}, {"name": "feature", "value": "Авторизация на https://www.saucedemo.com"}, {"name": "severity", "value": "minor"}, {"name": "tag", "value": "negative"}, {"name": "tag", "value": "all"}, {"name": "tag", "value": "login"}, {"name": "tag", "value": "negative"}, {"name": "tag", "value": "regression"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_page_login"}, {"name": "subSuite", "value": "TestsLogin"}, {"name": "host", "value": "runnervmymu0l"}, {"name": "thread", "value": "3049-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_page_login"}], "titlePath": ["tests", "test_page_login.py", "TestsLogin"]}